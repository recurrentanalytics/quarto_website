---
title: "Notes & Knowledge Base"
listing:
  contents: .
  type: default
  sort: "date desc"
  categories: true
  feed: true
page-layout: article
---

# Notes & Knowledge Base

A growing set of structured notes on climate science, risk modelling, data workflows, and systems thinking â€” part of the *Re:current Analytics* lab notebook.

> Powered by Quarto + Obsidian-style atomic notes.

::: {.tag-filter-container}
**Filter by tag:** <span id="tag-filter-list"></span> <button id="clear-tags" class="btn-clear-tags" style="display:none;">Clear filters</button>
:::

<script>
document.addEventListener('DOMContentLoaded', function() {
  const listingItems = document.querySelectorAll('.quarto-listing-default .quarto-listing-item, .quarto-listing .quarto-listing-item');
  const allTags = new Set();
  
  // Extract tags from listing items
  listingItems.forEach(item => {
    const categories = item.querySelectorAll('.listing-categories .category, .quarto-listing-category');
    categories.forEach(cat => {
      const tag = cat.textContent.trim();
      if (tag) allTags.add(tag);
    });
  });
  
  // Create tag filter buttons
  const tagFilterList = document.getElementById('tag-filter-list');
  if (tagFilterList && allTags.size > 0) {
    const sortedTags = Array.from(allTags).sort();
    sortedTags.forEach(tag => {
      const btn = document.createElement('button');
      btn.className = 'tag-filter-btn';
      btn.textContent = tag;
      btn.dataset.tag = tag;
      btn.addEventListener('click', () => toggleTagFilter(tag));
      tagFilterList.appendChild(btn);
    });
  }
  
  let activeTags = new Set();
  
  function toggleTagFilter(tag) {
    if (activeTags.has(tag)) {
      activeTags.delete(tag);
    } else {
      activeTags.add(tag);
    }
    applyFilters();
    updateTagButtons();
  }
  
  function applyFilters() {
    const clearBtn = document.getElementById('clear-tags');
    if (clearBtn) {
      clearBtn.style.display = activeTags.size > 0 ? 'inline-block' : 'none';
    }
    
    if (activeTags.size === 0) {
      listingItems.forEach(item => item.style.display = '');
      return;
    }
    
    listingItems.forEach(item => {
      const itemTags = new Set();
      const categories = item.querySelectorAll('.listing-categories .category, .quarto-listing-category');
      categories.forEach(cat => {
        const tag = cat.textContent.trim();
        if (tag) itemTags.add(tag);
      });
      
      const hasActiveTag = Array.from(activeTags).some(tag => itemTags.has(tag));
      item.style.display = hasActiveTag ? '' : 'none';
    });
  }
  
  function updateTagButtons() {
    const buttons = document.querySelectorAll('.tag-filter-btn');
    buttons.forEach(btn => {
      if (activeTags.has(btn.dataset.tag)) {
        btn.classList.add('active');
      } else {
        btn.classList.remove('active');
      }
    });
  }
  
  const clearBtn = document.getElementById('clear-tags');
  if (clearBtn) {
    clearBtn.addEventListener('click', () => {
      activeTags.clear();
      applyFilters();
      updateTagButtons();
    });
  }
});
</script>

<style>
.tag-filter-container {
  margin: 1.5rem 0;
  padding: 1rem;
  background: var(--bs-tertiary-bg);
  border-radius: 0.5rem;
  font-size: 0.9rem;
}

#tag-filter-list {
  display: inline-flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-left: 0.5rem;
}

.tag-filter-btn {
  padding: 0.25rem 0.75rem;
  border: 1px solid var(--bs-border-color);
  background: var(--bs-body-bg);
  color: var(--bs-body-color);
  border-radius: 1rem;
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.2s;
}

.tag-filter-btn:hover {
  border-color: var(--bs-primary);
  background: var(--bs-primary);
  color: var(--bs-body-bg);
}

.tag-filter-btn.active {
  background: var(--bs-primary);
  color: var(--bs-body-bg);
  border-color: var(--bs-primary);
}

.btn-clear-tags {
  margin-left: 0.75rem;
  padding: 0.25rem 0.75rem;
  border: 1px solid var(--bs-border-color);
  background: transparent;
  color: var(--bs-secondary);
  border-radius: 0.25rem;
  font-size: 0.85rem;
  cursor: pointer;
}

.btn-clear-tags:hover {
  border-color: var(--bs-primary);
  color: var(--bs-primary);
}
</style>
